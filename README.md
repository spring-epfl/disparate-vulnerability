# Disparate vulnerability experiments

We use Python 3, scikit and keras for training models, Jupyter notebooks for running experiments
and plotting, and R >= 3.5 for statistical procedures.

## Setup

To install the required Python packages:
```
pip install -r requirements.txt
```
To install the R libraries:
```
R -e 'install.packages(c("lme4", "lmerTest", "emmeans"))'
```

## File structure

Libraries:
* `mia/vuln.py` --- library for estimating vulnerability
* `experiments.py` --- functions that perform the experiments
* `loaders` --- data preprocessing modules
* `model_zoo.py` --- definitions and parameters for the ML models we use
* `disparity.py` --- tools to compute statistical evidence of disparity and max-disparity
* `plot_utils.py` --- utilities for plotting
* `plot_params.py` --- common parameters that define plot looks

Notebooks:
* `adult.ipynb` --- normal, effect of overfitting, fairness experiments for the ADULT dataset
* `adult_dp.ipynb` --- all experiments for the ADULT dataset
* `compas.ipynb` --- normal, effect of overfitting, and effect of fairness experiments on the COMPAS
  dataset
* `compas_dp.ipynb` --- DP experiments on the COMPAS dataset
* `utkface.ipynb` --- normal, and effect of overfitting experiments on the UTKFace dataset
* `utkface_data_volume.ipynb` --- learnability experiments on the UTKFace dataset

Empty folder placeholders that are used for persisting experiment and plotting results:
* `images`
* `models`
* `results`

## Datasets

ADULT and COMPAS datasets are checked in to the `data` folder. UTKFace has to be downloaded and
unpacked into `data/UTKFace` folder.

## Reproducing the experiments

To use the notebooks, run:
```
jupyter notebook .
```

And run each notebooks in the root folder.
